
import { div, style } from './helpers';

//
// WorldMap
//
function WorldMap(world, level) {
  this.el = div(world.el, 'WorldMap');

  this.types = {
    0: 'Empty',
    1: 'Wall',
    2: 'Player',
    3: 'Friendly',
    4: 'Food',
    5: 'Exit',
    6: 'Gold',
    7: 'Fire',
    8: 'Baddie',
    9: 'Friendly',
    10: 'Food',
    11: 'Wall',
    12: 'Wall',
    13: 'Wall',
  };
  this.icons = {
    0: 'â¬œï¸',
    1: 'ðŸŒ³',
    2: 'ðŸ‡',
    3: 'ðŸˆ',
    4: 'ðŸ©',
    5: 'â›©',
    6: 'ðŸ’°',
    7: 'ðŸ”¥',
    8: 'ðŸ•·',
    9: 'ðŸ¦„',
    10: 'ðŸª',
    11: 'ðŸŒ²',
    12: 'ðŸŒ´',
    13: 'ðŸŒµ',
  };

  // jscs:disable requireSpaceAfterComma
  // jscs:disable maximumLineLength
  this.fields = [
    { name: 'Desert Time', chunkSize: 75, bgColor: 'yellow', field: [
      [12,12,12,12,12,12,12],
      [12, 2,13, 6, 0, 0,12],
      [12, 0, 0,13,13, 0, 5],
      [12, 0,13, 0, 0, 0,12],
      [12, 4, 0, 9,13, 7,12],
      [12,12,12,12,12,12,12],
    ], },
    { name: 'Starter', chunkSize: 75, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1],
      [1,2,1,6,0,0,1],
      [1,0,0,1,1,0,5],
      [1,0,1,0,0,0,1],
      [1,4,0,9,1,7,1],
      [1,1,1,1,1,1,1],
    ], },
    { name: 'EMMA\'s LEVEL', chunkSize: 75, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,6,0,1],
      [1,0,0,0,0,0,0,3,0,0,0,0,0,0,0,6,0,1],
      [1,0,0,0,0,6,6,6,0,0,1,0,0,0,0,6,0,1],
      [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1],
      [1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1],
      [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,5],
      [1,0,0,0,0,6,6,6,0,0,1,0,0,0,6,6,6,1],
      [1,6,6,6,2,6,6,6,6,6,6,6,6,6,6,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ], },
    { name: 'A Wild Baddie Appears!', chunkSize: 75, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1,1],
      [1,2,1,6,8,0,0,1],
      [1,0,9,1,1,1,0,5],
      [1,0,1,4,0,0,0,1],
      [1,0,1,1,0,1,0,1],
      [1,4,0,3,0,1,7,1],
      [1,1,1,1,1,1,1,1],
    ], },
    { name: 'EMMA', chunkSize: 47, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1],
      [1,0,1,1,1,0,1,0,4,0,1,0,1,0,4,0,1,0,0,0,1,0,0,0,1],
      [1,0,1,0,0,0,1,1,0,1,1,0,1,1,0,1,1,0,0,1,0,1,0,0,1],
      [1,0,1,7,3,0,1,0,7,0,1,8,1,0,7,0,1,0,0,1,7,1,0,0,5],
      [1,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,0,1],
      [1,0,1,1,1,0,1,0,3,0,1,0,1,0,3,0,1,0,1,0,3,0,1,0,1],
      [1,4,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ], },
    { name: 'Open Field', bgColor: '#8bc34a', chunkSize: 47, field: [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,5],
      [1,0,7,1,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,1,3,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,3,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ], },
    { name: 'Maze', chunkSize: 52, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,1,3,0,0,6,7,0,1,3,0,0,0,0,0,0,3,1,0,0,0,0,1],
      [1,0,1,0,1,1,1,1,0,0,0,1,0,1,1,1,1,0,1,0,1,1,0,1],
      [1,0,1,4,0,0,0,1,1,1,1,1,0,1,0,0,0,0,4,0,0,1,0,1],
      [1,4,1,1,1,0,1,1,0,0,0,4,0,1,0,1,1,1,1,1,1,1,0,1],
      [1,0,0,0,1,0,0,0,0,7,1,1,1,1,0,1,0,1,0,1,3,1,3,1],
      [1,3,1,0,1,0,1,0,3,1,6,0,1,0,0,1,0,1,0,4,0,1,6,1],
      [1,0,1,0,7,0,1,1,1,1,1,0,1,0,1,1,0,0,0,1,0,1,1,1],
      [1,6,1,0,0,0,0,3,0,0,0,0,1,0,3,0,0,7,0,1,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1],
    ], },
    { name: 'Bigger Maze', chunkSize: 47, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,6,1,3,0,3,6,1,6,1,3,0,0,3,0,0,0,3,1,0,0,0,3,0,1,8,5],
      [1,0,1,0,1,1,1,1,0,0,0,1,0,1,1,1,1,0,1,0,1,1,0,1,1,0,1],
      [1,0,1,4,0,0,0,7,1,1,1,1,0,1,0,0,0,0,4,0,0,1,0,7,1,0,1],
      [1,4,1,1,1,0,1,1,0,0,0,4,0,1,0,1,1,1,1,1,1,4,0,6,1,0,1],
      [1,0,0,0,1,0,0,0,0,1,1,1,1,7,0,1,6,1,0,1,3,1,3,1,1,0,1],
      [1,3,1,0,1,0,1,0,3,1,6,0,1,0,0,1,0,1,0,4,0,1,0,0,0,0,1],
      [1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0,0,0,1,0,1,1,1,1,7,1],
      [1,0,1,0,0,0,0,3,0,3,0,0,1,0,3,7,0,1,0,1,0,1,3,6,1,4,1],
      [1,0,7,0,0,1,0,0,7,0,0,0,1,0,0,0,0,1,0,1,0,0,0,7,1,0,1],
      [1,2,1,0,1,1,1,1,1,0,7,0,1,0,1,1,0,1,0,1,1,1,0,1,1,0,1],
      [1,0,1,0,0,0,4,0,1,8,4,0,1,0,4,1,0,3,0,0,6,1,0,0,0,3,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ], },
    { name: 'Pacman', chunkSize: 45, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,6,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,6,1],
      [1,0,1,1,1,0,1,1,1,0,7,0,1,1,1,0,1,1,1,0,1],
      [1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1],
      [1,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,0,1],
      [1,0,0,0,0,0,1,4,0,0,1,0,0,4,1,0,0,0,0,0,1],
      [1,1,1,1,1,0,1,1,1,0,7,0,1,1,1,0,1,1,1,1,1],
      [0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0],
      [1,1,1,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,1],
      [1,2,0,0,0,0,0,0,1,3,8,3,1,0,0,0,0,0,0,0,5],
      [1,0,0,0,0,0,1,0,1,3,8,3,1,0,1,0,0,0,0,0,1],
      [1,1,1,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,1],
      [0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0],
      [1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,1,1,0,1,1,1,0,7,0,1,1,1,0,1,1,0,0,1],
      [1,0,0,4,1,3,0,0,0,0,0,0,0,0,0,3,1,4,0,0,1],
      [1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1,1],
      [1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1],
      [1,0,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,0,1],
      [1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ], },
    { name: 'BIG Field', chunkSize: 40, bgColor: '#8bc34a', field: [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,1],
      [1,0,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,1,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,1,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,0,0,0,1],
      [1,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1],
    ], },
  ];

  // jscs:enable requireSpaceAfterComma
  // jscs:enable maximumLineLength

  this.levels = this.fields.length;
  this.setLevel(level);

  this.iconsByType = {};
  Object.keys(this.types).forEach((key) => {
    this.iconsByType[this.types[key]] = this.icons[key];
  });

  this.typesMap = new Array(this.height);
  this.iconsMap = new Array(this.height);
  this.field.forEach((row, r) => {
    this.typesMap[r] = [];
    this.iconsMap[r] = [];
    row.forEach((col, c) => {
      this.typesMap[r][c] = this.types[col];
      this.iconsMap[r][c] = this.icons[col];
    });
  });
};

WorldMap.prototype.setLevel = function (level) {
  let map = this.fields[level - 1];
  this.field = map.field;
  this.chunkSize = map.chunkSize;
  this.name = map.name;
  this.width = this.field[0].length;
  this.height = this.field.length;
  this.bgColor = map.bgColor;
  style(this.el, {
    backgroundColor: this.bgColor,
  });
};

WorldMap.prototype.getIconByType = function (type) {
  return this.iconsByType[type];
};

module.exports = WorldMap;
